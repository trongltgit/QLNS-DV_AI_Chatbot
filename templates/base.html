<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý Đảng viên</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background:#f0f7f4; margin:0; }
        header { background: linear-gradient(135deg,#1b5e20,#43a047); color:white; padding:15px 5%; display:flex; justify-content:space-between; align-items:center; }
        .container { max-width:1000px; margin:20px auto; background:white; padding:30px; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,0.1); }
        .flash { padding:12px; margin-bottom:20px; border-radius:4px; }
        .success { background:#e8f5e9; color:#2e7d32; border:1px solid #c8e6c9; }
        .danger { background:#ffebee; color:#c62828; border:1px solid #ffcdd2; }
        table { width:100%; border-collapse:collapse; margin:15px 0; }
        th, td { border:1px solid #ddd; padding:10px; text-align:left; }
        th { background:#f5f5f5; }
        button, .btn { background:#2e7d32; color:white; border:none; padding:8px 15px; border-radius:4px; cursor:pointer; text-decoration:none; font-size:14px; }
        .btn-red { background:#c62828; }
        .ai-box { background:#e3f2fd; border-left:5px solid #2196f3; padding:15px; margin:20px 0; }
    </style>
</head>
<body>
    <header>
        <h2>HỆ THỐNG QUẢN LÝ ĐẢNG VIÊN</h2>
        {% if session.user %}
        <div>
            <span>{{ session.user.name }}</span> | 
            <a href="{{ url_for('logout') }}" style="color:white">Đăng xuất</a>
        </div>
        {% endif %}
    </header>
    <div class="container">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        
        {% block content %}{% endblock %}
    </div>
</body>
</html>
